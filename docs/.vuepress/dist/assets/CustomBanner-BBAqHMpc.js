import{f as z,u as N,g as B,h as F,i as R,j as A,_ as V,r as I,o as i,c as u,a as t,t as m,k as b,e as k,l as T,T as j,n as L,F as O,m as W,p as E,v as G}from"./app-Bv9WCD7n.js";const J=z({__name:"CustomBanner",setup(P,{expose:r}){r();const d=N(),e=B(()=>{var n,o,s,a;return(o=(n=d.value)==null?void 0:n.customBanner)!=null&&o.heroImage?A((a=(s=d.value)==null?void 0:s.customBanner)==null?void 0:a.heroImage):null}),D=B(()=>{var n,o;return((o=(n=d.value)==null?void 0:n.customBanner)==null?void 0:o.buttons)||[]}),q=B(()=>d.value.customBanner.heroImageStyle||{}),C=B(()=>{var a;const{bgImageStyle:n,bgImage:o}=((a=d.value)==null?void 0:a.customBanner)||{},s=o?{overflow:"hidden",background:`url(${A(o)}) center/cover no-repeat`}:{};return n?{...s,...n}:s}),w=F([]),v=async()=>{var h,g;const n=await fetch("https://api.allorigins.win/raw?url=https://rss.panewslab.com/zh/tvsq/rss"),s=new DOMParser().parseFromString(await n.text(),"text/xml"),a=s.querySelectorAll("item"),S={title:((h=s.querySelector("channel > title"))==null?void 0:h.textContent)||"",description:((g=s.querySelector("channel > description"))==null?void 0:g.textContent)||"",items:Array.from(a).map(l=>{var p,y,c,f,M;return{title:((p=l.querySelector("title"))==null?void 0:p.textContent)||"",link:((y=l.querySelector("link"))==null?void 0:y.textContent)||"",description:((c=l.querySelector("description"))==null?void 0:c.textContent)||"",pubDate:((f=l.querySelector("pubDate"))==null?void 0:f.textContent)||"",author:((M=l.querySelector("author"))==null?void 0:M.textContent)||"",category:Array.from(l.querySelectorAll("category")).map(H=>H.textContent)}})};w.value=S.items};R(()=>{v()});const x=F(1),_={frontmatter:d,heroImage:e,buttons:D,heroImageStyle:q,bgImageStyle:C,news:w,getDatas:v,showLenth:x};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),K={class:"banner-brand__content"},Q={key:0,class:"title"},U={key:1,class:"description"},X=["innerHTML"],Y={key:3,class:"btn-group"},Z={class:"xicon-content",style:{display:"flex","align-items":"center"}},$={class:"xicon-container left plain",href:"https://www.coze.cn/s/i5LMuARr",target:"_blank"},ee={class:"xicon-content",style:{display:"flex","align-items":"center"}},te={key:0,class:"live"},ne={class:"name"},oe={class:"date"},se=["href"],re=["innerHTML"];function ae(P,r,d,e,D,q){var x,_,n,o,s,a,S,h,g,l,p,y;const C=I("IconPlay"),w=I("RouteLink"),v=I("IconMagicWand");return i(),u("section",{class:"banner-brand__wrapper",style:L({...e.bgImageStyle})},[t("div",K,[(_=(x=e.frontmatter)==null?void 0:x.customBanner)!=null&&_.title?(i(),u("h1",Q,m((o=(n=e.frontmatter)==null?void 0:n.customBanner)==null?void 0:o.title),1)):b("",!0),(a=(s=e.frontmatter)==null?void 0:s.customBanner)!=null&&a.description?(i(),u("p",U,m((h=(S=e.frontmatter)==null?void 0:S.customBanner)==null?void 0:h.description),1)):b("",!0),(l=(g=e.frontmatter)==null?void 0:g.customBanner)!=null&&l.tagline?(i(),u("p",{key:2,class:"tagline",innerHTML:(y=(p=e.frontmatter)==null?void 0:p.customBanner)==null?void 0:y.tagline},null,8,X)):b("",!0),e.buttons.length>0?(i(),u("div",Y,[k(w,{class:"xicon-container left",to:"/videos/"},{default:T(()=>[t("span",Z,[k(C,{style:{width:"20px","margin-right":"10px"}}),r[1]||(r[1]=t("b",null,"视频合集",-1))])]),_:1}),t("a",$,[t("span",ee,[k(v,{style:{width:"20px","margin-right":"10px"}}),r[2]||(r[2]=t("b",null,"智能体",-1))])])])):b("",!0),k(j,{name:"fade"},{default:T(()=>[e.news.length?(i(),u("div",te,[t("div",ne,[r[3]||(r[3]=t("div",{class:"load"},[t("div",{class:"loading"}),t("span",null,"正在发生")],-1)),t("small",{class:"more",onClick:r[0]||(r[0]=c=>e.showLenth=e.showLenth>1?1:e.news.length)},m(e.showLenth>1?"收起":"更多")+"("+m(e.news.length)+")",1)]),(i(!0),u(O,null,W(e.news,(c,f)=>E((i(),u("div",{key:f},[t("div",oe,m(c.pubDate),1),t("a",{href:c.link,target:"_blank",rel:"noopener noreferrer",style:L(`border-bottom:${e.showLenth>1?"":"none"} ;`)},[t("div",null,[t("b",null,m(c.title),1)]),t("p",{innerHTML:c.description,style:L(`border-bottom: ${e.showLenth<=1&&"none;"}`)},null,12,re)],12,se)])),[[G,f<e.showLenth]])),128))])):b("",!0)]),_:1})])],4)}const ce=V(J,[["render",ae],["__scopeId","data-v-41892780"],["__file","CustomBanner.vue"]]);export{ce as default};
