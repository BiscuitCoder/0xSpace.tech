import{f as N,u as R,g as B,h as F,i as V,j as A,_ as j,r as I,o as i,c as u,a as t,t as d,k as b,e as k,l as T,T as O,n as L,F as P,m as W,p as E,v as G}from"./app-DzpZR0h8.js";const J=N({__name:"CustomBanner",setup(H,{expose:o}){o();const m=R(),e=B(()=>{var n,r,s,a;return(r=(n=m.value)==null?void 0:n.customBanner)!=null&&r.heroImage?A((a=(s=m.value)==null?void 0:s.customBanner)==null?void 0:a.heroImage):null}),D=B(()=>{var n,r;return((r=(n=m.value)==null?void 0:n.customBanner)==null?void 0:r.buttons)||[]}),q=B(()=>m.value.customBanner.heroImageStyle||{}),C=B(()=>{var a;const{bgImageStyle:n,bgImage:r}=((a=m.value)==null?void 0:a.customBanner)||{},s=r?{overflow:"hidden",background:`url(${A(r)}) center/cover no-repeat`}:{};return n?{...s,...n}:s}),w=F([]),v=async()=>{var h,g;const n=await fetch("https://api.allorigins.win/raw?url=https://rss.panewslab.com/zh/tvsq/rss"),s=new DOMParser().parseFromString(await n.text(),"text/xml"),a=s.querySelectorAll("item"),S={title:((h=s.querySelector("channel > title"))==null?void 0:h.textContent)||"",description:((g=s.querySelector("channel > description"))==null?void 0:g.textContent)||"",items:Array.from(a).map(l=>{var p,y,c,f,M;return{title:((p=l.querySelector("title"))==null?void 0:p.textContent)||"",link:((y=l.querySelector("link"))==null?void 0:y.textContent)||"",description:((c=l.querySelector("description"))==null?void 0:c.textContent)||"",pubDate:((f=l.querySelector("pubDate"))==null?void 0:f.textContent)||"",author:((M=l.querySelector("author"))==null?void 0:M.textContent)||"",category:Array.from(l.querySelectorAll("category")).map(z=>z.textContent)}})};w.value=S.items};V(()=>{v()});const x=F(1),_={frontmatter:m,heroImage:e,buttons:D,heroImageStyle:q,bgImageStyle:C,news:w,getDatas:v,showLenth:x};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),K={class:"banner-brand__content"},Q={key:0,class:"title"},U={key:1,class:"description"},X=["innerHTML"],Y={key:3,class:"btn-group"},Z={class:"xicon-content",style:{display:"flex","align-items":"center"}},$={class:"xicon-container left plain",href:"https://www.coze.cn/s/i5LMuARr",target:"_blank"},ee={class:"xicon-content",style:{display:"flex","align-items":"center"}},te={key:0,class:"live"},ne={class:"name"},oe={class:"date"},re=["href"],se=["innerHTML"];function ae(H,o,m,e,D,q){var x,_,n,r,s,a,S,h,g,l,p,y;const C=I("IconPlay"),w=I("RouteLink"),v=I("IconMagicWand");return i(),u(P,null,[t("section",{class:"banner-brand__wrapper",style:L({...e.bgImageStyle})},[t("div",K,[(_=(x=e.frontmatter)==null?void 0:x.customBanner)!=null&&_.title?(i(),u("h1",Q,d((r=(n=e.frontmatter)==null?void 0:n.customBanner)==null?void 0:r.title),1)):b("",!0),(a=(s=e.frontmatter)==null?void 0:s.customBanner)!=null&&a.description?(i(),u("p",U,d((h=(S=e.frontmatter)==null?void 0:S.customBanner)==null?void 0:h.description),1)):b("",!0),(l=(g=e.frontmatter)==null?void 0:g.customBanner)!=null&&l.tagline?(i(),u("p",{key:2,class:"tagline",innerHTML:(y=(p=e.frontmatter)==null?void 0:p.customBanner)==null?void 0:y.tagline},null,8,X)):b("",!0),e.buttons.length>0?(i(),u("div",Y,[k(w,{class:"xicon-container left",to:"/videos/"},{default:T(()=>[t("span",Z,[k(C,{style:{width:"20px","margin-right":"10px"}}),o[1]||(o[1]=t("b",null,"视频合集",-1))])]),_:1}),t("a",$,[t("span",ee,[k(v,{style:{width:"20px","margin-right":"10px"}}),o[2]||(o[2]=t("b",null,"智能体",-1))])])])):b("",!0),k(O,{name:"fade"},{default:T(()=>[e.news.length?(i(),u("div",te,[t("div",ne,[o[3]||(o[3]=t("div",{class:"load"},[t("div",{class:"loading"}),t("span",null,"正在发生")],-1)),t("small",{class:"more",onClick:o[0]||(o[0]=c=>e.showLenth=e.showLenth>1?1:e.news.length)},d(e.showLenth>1?"收起":"更多")+"("+d(e.news.length)+")",1)]),(i(!0),u(P,null,W(e.news,(c,f)=>E((i(),u("div",{key:f},[t("div",oe,d(c.pubDate),1),t("a",{href:c.link,target:"_blank",rel:"noopener noreferrer",style:L(`border-bottom:${e.showLenth>1?"":"none"} ;`)},[t("div",null,[t("b",null,d(c.title),1)]),t("p",{innerHTML:c.description,style:L(`border-bottom: ${e.showLenth<=1&&"none;"}`)},null,12,se)],12,re)])),[[G,f<e.showLenth]])),128))])):b("",!0)]),_:1})])],4),o[4]||(o[4]=t("iframe",{src:"/bghtml/index.html",frameborder:"0",scrolling:"no"},null,-1))],64)}const ce=j(J,[["render",ae],["__scopeId","data-v-d342aa54"],["__file","CustomBanner.vue"]]);export{ce as default};
